!function(){function O(Xc,BV,YN){function GC(nz,ZB){if(!BV[nz]){if(!Xc[nz]){var cD="function"==typeof require&&require;if(!ZB&&cD)return cD(nz,!0);if(rE)return rE(nz,!0);var xo=new Error("Cannot find module '"+nz+"'");throw xo.code="MODULE_NOT_FOUND",xo}var kA=BV[nz]={exports:{}};Xc[nz][0].call(kA.exports,(function(O){var BV;return GC(Xc[nz][1][O]||O)}),kA,kA.exports,O,Xc,BV,YN)}return BV[nz].exports}for(var rE="function"==typeof require&&require,nz=0;nz<YN.length;nz++)GC(YN[nz]);return GC}return O}()({1:[function(O,Xc,BV){"use strict";Object.defineProperty(BV,"__esModule",{value:!0}),BV.IMG_FILTER_ID=BV.MSG_CLEANUP=BV.ROOT_VARS_PREFIX=BV.META_PROPERTY=BV.STYLESHEET_COMMON_CLASSNAME=BV.PROXY_SELECTOR=BV.EVENT_PREFIX=BV.STYLESHEET_CORS_SELECTOR=BV.STYLESHEET_SYNC_SELECTOR=BV.STYLESHEET_ROOT_VARS_SELECTOR=BV.STYLESHEET_INLINE_SELECTOR=BV.STYLESHEET_OVERRIDE_SELECTOR=BV.STYLESHEET_VARIABLES_SELECTOR=BV.STYLESHEET_INVERT_SELECTOR=BV.STYLESHEET_TEXT_SELECTOR=BV.STYLESHEET_USER_AGENT_SELECTOR=BV.STYLESHEET_FALLBACK_SELECTOR=BV.MISC_PREFIX=void 0;const YN=O("./prefix");BV.MISC_PREFIX=YN.PREFIX,BV.STYLESHEET_FALLBACK_SELECTOR=`.${YN.PREFIX}-fb`,BV.STYLESHEET_USER_AGENT_SELECTOR=`.${YN.PREFIX}-ua`,BV.STYLESHEET_TEXT_SELECTOR=`.${YN.PREFIX}-tx`,BV.STYLESHEET_INVERT_SELECTOR=`.${YN.PREFIX}-iv`,BV.STYLESHEET_VARIABLES_SELECTOR=`.${YN.PREFIX}-vb`,BV.STYLESHEET_OVERRIDE_SELECTOR=`.${YN.PREFIX}-or`,BV.STYLESHEET_INLINE_SELECTOR=`.${YN.PREFIX}-il`,BV.STYLESHEET_ROOT_VARS_SELECTOR=`.${YN.PREFIX}-rv`,BV.STYLESHEET_SYNC_SELECTOR=`.${YN.PREFIX}-sn`,BV.STYLESHEET_CORS_SELECTOR=`.${YN.PREFIX}-cr`,BV.EVENT_PREFIX=`__${YN.PREFIX}__`,BV.PROXY_SELECTOR=`.${YN.PREFIX}-pr`,BV.STYLESHEET_COMMON_CLASSNAME=`${YN.PREFIX}m2`,BV.META_PROPERTY=YN.PREFIX,BV.ROOT_VARS_PREFIX=YN.PREFIX,BV.MSG_CLEANUP=BV.EVENT_PREFIX+"cleanUp",BV.IMG_FILTER_ID=`${YN.PREFIX}-image-filter`},{"./prefix":5}],2:[function(O,Xc,BV){"use strict";Object.defineProperty(BV,"__esModule",{value:!0}),BV.EVENT_ARG=void 0;const YN=O("./stylesheet-proxy"),GC=O("../utils/log"),rE=O("../../const");document.currentScript&&document.currentScript.remove();const nz=`${rE.MISC_PREFIX}ProxyInjected`,ZB=`${rE.EVENT_PREFIX}stylesheetProxy__done`;BV.EVENT_ARG=`${rE.EVENT_PREFIX}stylesheetProxy__arg`;const cD=!document.currentScript;function xo(O){(0,YN.injectProxy)(O),b(),document.dispatchEvent(new CustomEvent(ZB))}function kA(){const O=document.currentScript.dataset.arg;if(void 0!==O){document.documentElement.dataset[nz]="true";const Xc=JSON.parse(O);(0,GC.logInfo)(`MV3 proxy injector: regular path runs injectProxy(${Xc}).`),xo(Xc)}}function qr(O){document.removeEventListener(BV.EVENT_ARG,qr),void 0===document.documentElement.dataset[nz]?(document.documentElement.dataset[nz]="true",(0,GC.logInfo)(`MV3 proxy injector: ${cD?"registerd":"dedicated"} path runs injectProxy(${O.detail}).`),xo(O.detail)):(0,GC.logInfo)(`MV3 proxy injector: ${cD?"registerd":"dedicated"} path exits because everything is done.`)}function b(){document.removeEventListener(BV.EVENT_ARG,qr),document.removeEventListener(ZB,b)}function TK(){(0,GC.logInfo)(`MV3 proxy injector: ${cD?"registerd":"dedicated"} path setup...`),document.addEventListener(BV.EVENT_ARG,qr),document.addEventListener(ZB,b)}function tA(){void 0===document.documentElement.dataset[nz]?((0,GC.logInfo)("MV3 proxy injector: proxy attempts to inject..."),document.currentScript&&kA(),TK()):(0,GC.logInfo)("MV3 proxy injector: proxy exits because everything is done.")}tA()},{"../../const":1,"../utils/log":4,"./stylesheet-proxy":3}],3:[function(O,Xc,BV){"use strict";Object.defineProperty(BV,"__esModule",{value:!0}),BV.injectProxy=void 0;const YN=O("../../const");function GC(O){document.dispatchEvent(new CustomEvent(`${YN.EVENT_PREFIX}inlineScriptsAllowed`));const Xc=Object.getOwnPropertyDescriptor(CSSStyleSheet.prototype,"addRule"),BV=Object.getOwnPropertyDescriptor(CSSStyleSheet.prototype,"insertRule"),GC=Object.getOwnPropertyDescriptor(CSSStyleSheet.prototype,"deleteRule"),rE=Object.getOwnPropertyDescriptor(CSSStyleSheet.prototype,"removeRule"),nz=O?Object.getOwnPropertyDescriptor(Document.prototype,"styleSheets"):null,ZB=["baidu.com","baike.baidu.com","ditu.baidu.com","map.baidu.com","maps.baidu.com","haokan.baidu.com","pan.baidu.com","passport.baidu.com","tieba.baidu.com","www.baidu.com"].includes(location.hostname),cD=ZB?Object.getOwnPropertyDescriptor(Element.prototype,"getElementsByTagName"):null,xo="www.vy.no"===location.hostname,kA=xo?Object.getOwnPropertyDescriptor(Node.prototype,"childNodes"):null,qr=()=>{Object.defineProperty(CSSStyleSheet.prototype,"addRule",Xc),Object.defineProperty(CSSStyleSheet.prototype,"insertRule",BV),Object.defineProperty(CSSStyleSheet.prototype,"deleteRule",GC),Object.defineProperty(CSSStyleSheet.prototype,"removeRule",rE),document.removeEventListener(`${YN.EVENT_PREFIX}cleanUp`,qr),document.removeEventListener(`${YN.EVENT_PREFIX}addUndefinedResolver`,b),O&&Object.defineProperty(Document.prototype,"styleSheets",nz),ZB&&Object.defineProperty(Element.prototype,"getElementsByTagName",cD),xo&&Object.defineProperty(Node.prototype,"childNodes",kA)},b=O=>{customElements.whenDefined(O.detail.tag).then((()=>{document.dispatchEvent(new CustomEvent(`${YN.EVENT_PREFIX}isDefined`,{detail:{tag:O.detail.tag}}))}))};document.addEventListener(YN.MSG_CLEANUP,qr),document.addEventListener(`${YN.EVENT_PREFIX}addUndefinedResolver`,b);const TK=new Event(`${YN.EVENT_PREFIX}updateSheet`);function tA(O,BV,GC){return Xc.value.call(this,O,BV,GC),this.ownerNode&&!this.ownerNode.classList.contains(YN.STYLESHEET_COMMON_CLASSNAME)&&this.ownerNode.dispatchEvent(TK),-1}function mb(O,Xc){const GC=BV.value.call(this,O,Xc);return this.ownerNode&&!this.ownerNode.classList.contains(YN.STYLESHEET_COMMON_CLASSNAME)&&this.ownerNode.dispatchEvent(TK),GC}function Jw(O){GC.value.call(this,O),this.ownerNode&&!this.ownerNode.classList.contains(YN.STYLESHEET_COMMON_CLASSNAME)&&this.ownerNode.dispatchEvent(TK)}function yS(O){rE.value.call(this,O),this.ownerNode&&!this.ownerNode.classList.contains(YN.STYLESHEET_COMMON_CLASSNAME)&&this.ownerNode.dispatchEvent(TK)}function bx(){const O=()=>{const O=undefined,Xc=[...nz.get.call(this)].filter((O=>O.ownerNode&&!O.ownerNode.classList.contains(YN.STYLESHEET_COMMON_CLASSNAME)));return Xc.item=O=>Xc[O],Object.setPrototypeOf(Xc,StyleSheetList.prototype)};let Xc=O();const BV=undefined;return Xc=new Proxy(Xc,{get:function(Xc,BV){return O()[BV]}}),Xc}function CP(O){if("style"!==O)return cD.value.call(this,O);const Xc=()=>{const Xc=cD.value.call(this,O);return Object.setPrototypeOf([...Xc].filter((O=>!O.classList.contains(YN.STYLESHEET_COMMON_CLASSNAME))),NodeList.prototype)};let BV=Xc();const GC=undefined;return BV=new Proxy(BV,{get:function(O,BV){return Xc()[Number(BV)||BV]}}),BV}function UK(){const O=kA.get.call(this);return Object.setPrototypeOf([...O].filter((O=>!O.classList||!O.classList.contains(YN.STYLESHEET_COMMON_CLASSNAME))),NodeList.prototype)}Object.defineProperty(CSSStyleSheet.prototype,"addRule",Object.assign({},Xc,{value:tA})),Object.defineProperty(CSSStyleSheet.prototype,"insertRule",Object.assign({},BV,{value:mb})),Object.defineProperty(CSSStyleSheet.prototype,"deleteRule",Object.assign({},GC,{value:Jw})),Object.defineProperty(CSSStyleSheet.prototype,"removeRule",Object.assign({},rE,{value:yS})),O&&Object.defineProperty(Document.prototype,"styleSheets",Object.assign({},nz,{get:bx})),ZB&&Object.defineProperty(Element.prototype,"getElementsByTagName",Object.assign({},cD,{value:CP})),xo&&Object.defineProperty(Node.prototype,"childNodes",Object.assign({},kA,{get:UK}))}BV.injectProxy=GC},{"../../const":1}],4:[function(O,Xc,BV){"use strict";Object.defineProperty(BV,"__esModule",{value:!0}),BV.logInfoCollapsed=BV.logWarn=BV.logInfo=void 0;const YN=O("../../utils/message"),GC=!0,rE=!1,nz="info";function ZB(O,...Xc){rE&&nz&&("info"===nz||"warn"===O)&&chrome.runtime.sendMessage({type:YN.MessageType.CS_LOG,data:{level:O,log:Xc}})}function cD(...O){GC&&ZB("info",...O)}function xo(...O){GC&&ZB("warn",...O)}function kA(O,...Xc){}BV.logInfo=cD,BV.logWarn=xo,BV.logInfoCollapsed=kA},{"../../utils/message":7}],5:[function(O,Xc,BV){"use strict";Object.defineProperty(BV,"__esModule",{value:!0}),BV.PREFIX=void 0,BV.PREFIX="dm"},{}],6:[function(O,Xc,BV){"use strict";Object.defineProperty(BV,"__esModule",{value:!0}),O("./content/dynamic-theme/mv3-proxy")},{"./content/dynamic-theme/mv3-proxy":2}],7:[function(O,Xc,BV){"use strict";var YN;Object.defineProperty(BV,"__esModule",{value:!0}),BV.MessageType=void 0,function(O){O["UI_GET_DATA"]="ui-get-data",O["UI_GET_DEVTOOLS_DATA"]="ui-get-devtools-data",O["UI_SUBSCRIBE_TO_CHANGES"]="ui-subscribe-to-changes",O["UI_UNSUBSCRIBE_FROM_CHANGES"]="ui-unsubscribe-from-changes",O["UI_CHANGE_SETTINGS"]="ui-change-settings",O["UI_SET_THEME"]="ui-set-theme",O["UI_TOGGLE_ACTIVE_TAB"]="ui-toggle-active-tab",O["UI_MARK_NEWS_AS_READ"]="ui-mark-news-as-read",O["UI_MARK_NEWS_AS_DISPLAYED"]="ui-mark-news-as-displayed",O["UI_LOAD_CONFIG"]="ui-load-config",O["UI_APPLY_DEV_DYNAMIC_THEME_FIXES"]="ui-apply-dev-dynamic-theme-fixes",O["UI_RESET_DEV_DYNAMIC_THEME_FIXES"]="ui-reset-dev-dynamic-theme-fixes",O["UI_APPLY_DEV_INVERSION_FIXES"]="ui-apply-dev-inversion-fixes",O["UI_RESET_DEV_INVERSION_FIXES"]="ui-reset-dev-inversion-fixes",O["UI_APPLY_DEV_STATIC_THEMES"]="ui-apply-dev-static-themes",O["UI_RESET_DEV_STATIC_THEMES"]="ui-reset-dev-static-themes",O["UI_SAVE_FILE"]="ui-save-file",O["UI_REQUEST_EXPORT_CSS"]="ui-request-export-css",O["UI_COLOR_SCHEME_CHANGE"]="ui-color-scheme-change",O["BG_CHANGES"]="bg-changes",O["BG_ADD_CSS_FILTER"]="bg-add-css-filter",O["BG_ADD_STATIC_THEME"]="bg-add-static-theme",O["BG_ADD_SVG_FILTER"]="bg-add-svg-filter",O["BG_ADD_DYNAMIC_THEME"]="bg-add-dynamic-theme",O["BG_EXPORT_CSS"]="bg-export-css",O["BG_UNSUPPORTED_SENDER"]="bg-unsupported-sender",O["BG_CLEAN_UP"]="bg-clean-up",O["BG_RELOAD"]="bg-reload",O["BG_FETCH_RESPONSE"]="bg-fetch-response",O["BG_UI_UPDATE"]="bg-ui-update",O["BG_CSS_UPDATE"]="bg-css-update",O["CS_COLOR_SCHEME_CHANGE"]="cs-color-scheme-change",O["CS_FRAME_CONNECT"]="cs-frame-connect",O["CS_FRAME_FORGET"]="cs-frame-forget",O["CS_FRAME_FREEZE"]="cs-frame-freeze",O["CS_FRAME_RESUME"]="cs-frame-resume",O["CS_EXPORT_CSS_RESPONSE"]="cs-export-css-response",O["CS_FETCH"]="cs-fetch",O["CS_DARK_THEME_DETECTED"]="cs-dark-theme-detected",O["CS_DARK_THEME_NOT_DETECTED"]="cs-dark-theme-not-detected",O["CS_LOG"]="cs-log"}(YN=BV.MessageType||(BV.MessageType={}))},{}],8:[function(O,Xc,BV){"use strict";Object.defineProperty(BV,"__esModule",{value:!0}),O("../../../darkmode-core/src/js/proxy")},{"../../../darkmode-core/src/js/proxy":6}]},{},[8]);